@page "/messages"

<h3 class="text-2xl font-bold mb-4">Chat</h3>

<div class="flex flex-col space-y-2 p-4 border rounded-md bg-gray-100 h-80 overflow-y-auto">
    @foreach (var message in messages)
    {
        <div class="flex @((message.StartsWith("You:")) ? "justify-end" : "justify-start")">
            <div class="px-4 py-2 rounded-lg max-w-xs text-white @(message.StartsWith("You:") ? "bg-blue-500" : "bg-gray-500")">
                @message
            </div>
        </div>
    }
</div>

<div class="flex mt-2 space-x-2">
    <input @bind="newMessage" placeholder="Skriv din besked..."
           class="flex-grow px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" />
    <button @onclick="SendMessage"
            class="px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600">
        Send
    </button>
</div>

@code {
    private List<string> messages = new();
    private string newMessage;

    private void SendMessage()
    {
        if (!string.IsNullOrWhiteSpace(newMessage))
        {
            messages.Add("You: " + newMessage);
            newMessage = string.Empty;
        }
    }
}
